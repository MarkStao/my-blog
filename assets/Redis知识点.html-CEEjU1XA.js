import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as a,a as l,b as n,o as h}from"./app-BImRTQmU.js";const t={};function r(d,i){return h(),e("div",null,[i[0]||(i[0]=a("p",null,"Redis 是一个开源的高性能键值存储系统，支持多种数据结构，广泛应用于缓存、消息队列、实时分析等场景。本文将从基础概念到高级特性，全面介绍 Redis 的核心知识点。",-1)),l(" more "),i[1]||(i[1]=n(`<h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ol><li><a href="#1-redis-%E6%A6%82%E8%BF%B0">Redis 概述</a></li><li><a href="#2-redis-%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E4%B8%8E%E6%A6%82%E5%BF%B5">Redis 核心架构与概念</a></li><li><a href="#3-redis-%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85">Redis 下载与安装</a></li><li><a href="#4-redis-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE">Redis 运行配置</a></li><li><a href="#5-redis-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C">Redis 基础操作</a></li><li><a href="#6-redis-%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD">Redis 高级功能</a></li><li><a href="#7-redis-%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98">Redis 性能调优</a></li><li><a href="#8-redis-%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF">Redis 常见使用场景</a></li><li><a href="#9-redis-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">Redis 常见问题</a></li><li><a href="#10-%E6%80%BB%E7%BB%93">总结</a></li></ol><hr><h2 id="_1-redis-概述" tabindex="-1"><a class="header-anchor" href="#_1-redis-概述"><span>1. Redis 概述</span></a></h2><p>Redis（Remote Dictionary Server）是一个开源的高性能键值存储系统，支持多种数据结构（如字符串、哈希、列表、集合、有序集合等）。Redis 以其高性能、丰富的数据结构和持久化特性而闻名，广泛应用于缓存、消息队列、实时分析等场景。</p><hr><h2 id="_2-redis-核心架构与概念" tabindex="-1"><a class="header-anchor" href="#_2-redis-核心架构与概念"><span>2. Redis 核心架构与概念</span></a></h2><h3 id="_2-1-核心架构" tabindex="-1"><a class="header-anchor" href="#_2-1-核心架构"><span>2.1 核心架构</span></a></h3><p>Redis 的核心架构包括以下组件：</p><ul><li><strong>客户端</strong>：与 Redis 服务器交互的应用程序。</li><li><strong>服务器</strong>：处理客户端请求的核心组件。</li><li><strong>持久化模块</strong>：支持数据持久化（如 RDB 和 AOF）。</li><li><strong>事件驱动模型</strong>：基于事件循环的高效网络通信模型。</li></ul><h3 id="_2-2-核心概念" tabindex="-1"><a class="header-anchor" href="#_2-2-核心概念"><span>2.2 核心概念</span></a></h3><ul><li><strong>键值对</strong>：Redis 的基本存储单元，键是字符串，值可以是多种数据结构。</li><li><strong>数据结构</strong>：Redis 支持字符串、哈希、列表、集合、有序集合等数据结构。</li><li><strong>持久化</strong>：将内存中的数据保存到磁盘，防止数据丢失。</li><li><strong>主从复制</strong>：实现数据的高可用性和负载均衡。</li></ul><hr><h2 id="_3-redis-下载与安装" tabindex="-1"><a class="header-anchor" href="#_3-redis-下载与安装"><span>3. Redis 下载与安装</span></a></h2><h3 id="_3-1-下载" tabindex="-1"><a class="header-anchor" href="#_3-1-下载"><span>3.1 下载</span></a></h3><ul><li><strong>官方网站</strong>：<a href="https://redis.io/download" target="_blank" rel="noopener noreferrer">Redis 下载页面</a></li><li><strong>版本选择</strong>：根据操作系统选择合适的版本（如 Linux、macOS、Windows）。</li></ul><h3 id="_3-2-安装" tabindex="-1"><a class="header-anchor" href="#_3-2-安装"><span>3.2 安装</span></a></h3><ul><li><p><strong>Linux</strong>：</p><ol><li>下载 Redis 源码：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://download.redis.io/releases/redis-7.0.0.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>解压并编译：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xzf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis-7.0.0.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis-7.0.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>启动 Redis 服务：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">src/redis-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol></li><li><p><strong>macOS</strong>：</p><ol><li>使用 Homebrew 安装：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>启动 Redis 服务：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol></li><li><p><strong>Windows</strong>：</p><ol><li>下载 Windows 版本的 Redis：<a href="https://github.com/microsoftarchive/redis/releases" target="_blank" rel="noopener noreferrer">Redis for Windows</a></li><li>解压并运行 <code>redis-server.exe</code>。</li></ol></li></ul><hr><h2 id="_4-redis-运行配置" tabindex="-1"><a class="header-anchor" href="#_4-redis-运行配置"><span>4. Redis 运行配置</span></a></h2><h3 id="_4-1-启动命令" tabindex="-1"><a class="header-anchor" href="#_4-1-启动命令"><span>4.1 启动命令</span></a></h3><ul><li><strong>Linux/macOS</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>Windows</strong>：<br> 运行 <code>redis-server.exe</code>。</li></ul><h3 id="_4-2-单机部署" tabindex="-1"><a class="header-anchor" href="#_4-2-单机部署"><span>4.2 单机部署</span></a></h3><ul><li><strong>配置文件</strong>：<code>redis.conf</code>（Linux/macOS）或 <code>redis.windows.conf</code>（Windows）。</li><li><strong>常用配置项</strong>： <ul><li><code>port</code>：Redis 服务端口（默认 6379）。</li><li><code>bind</code>：绑定的 IP 地址。</li><li><code>requirepass</code>：设置访问密码。</li></ul></li></ul><h3 id="_4-3-集群部署" tabindex="-1"><a class="header-anchor" href="#_4-3-集群部署"><span>4.3 集群部署</span></a></h3><ul><li><strong>Redis Cluster</strong>： <ol><li>创建多个 Redis 实例：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7000</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cluster-enabled</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7001</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cluster-enabled</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>创建集群：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-cli</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:7000</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:7001</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cluster-replicas</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol></li></ul><hr><h2 id="_5-redis-基础操作" tabindex="-1"><a class="header-anchor" href="#_5-redis-基础操作"><span>5. Redis 基础操作</span></a></h2><h3 id="_5-1-键值操作" tabindex="-1"><a class="header-anchor" href="#_5-1-键值操作"><span>5.1 键值操作</span></a></h3><ul><li><strong>设置键值</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mykey</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Hello&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>获取键值</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mykey</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>删除键</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DEL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mykey</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_5-2-数据结构操作" tabindex="-1"><a class="header-anchor" href="#_5-2-数据结构操作"><span>5.2 数据结构操作</span></a></h3><ul><li><strong>字符串</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Alice&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>哈希</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HSET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user:1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Alice&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> age</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HGET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user:1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>列表</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">LPUSH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mylist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;item1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">LRANGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mylist</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>集合</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SADD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myset</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;item1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SMEMBERS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myset</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>有序集合</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ZADD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myzset</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;item1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ZRANGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myzset</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="_6-redis-高级功能" tabindex="-1"><a class="header-anchor" href="#_6-redis-高级功能"><span>6. Redis 高级功能</span></a></h2><h3 id="_6-1-持久化" tabindex="-1"><a class="header-anchor" href="#_6-1-持久化"><span>6.1 持久化</span></a></h3><ul><li><strong>RDB</strong>：定期生成数据快照。<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">save</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 60</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>AOF</strong>：记录所有写操作。<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">appendonly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_6-2-主从复制" tabindex="-1"><a class="header-anchor" href="#_6-2-主从复制"><span>6.2 主从复制</span></a></h3><ul><li><strong>配置主节点</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6379</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>配置从节点</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6380</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --slaveof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6379</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_6-3-事务" tabindex="-1"><a class="header-anchor" href="#_6-3-事务"><span>6.3 事务</span></a></h3><ul><li><strong>描述</strong>：事务是一组原子性的操作。</li><li><strong>常用命令</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MULTI</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;value1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;value2&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">EXEC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_6-4-lua-脚本" tabindex="-1"><a class="header-anchor" href="#_6-4-lua-脚本"><span>6.4 Lua 脚本</span></a></h3><ul><li><strong>描述</strong>：使用 Lua 脚本实现复杂逻辑。</li><li><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">EVAL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;return redis.call(&#39;GET&#39;, KEYS[1])&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mykey</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h2 id="_7-redis-性能调优" tabindex="-1"><a class="header-anchor" href="#_7-redis-性能调优"><span>7. Redis 性能调优</span></a></h2><h3 id="_7-1-内存优化" tabindex="-1"><a class="header-anchor" href="#_7-1-内存优化"><span>7.1 内存优化</span></a></h3><ul><li><strong>使用合适的数据结构</strong>：根据场景选择最优的数据结构。</li><li><strong>设置最大内存</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maxmemory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1gb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_7-2-网络优化" tabindex="-1"><a class="header-anchor" href="#_7-2-网络优化"><span>7.2 网络优化</span></a></h3><ul><li><strong>减少网络延迟</strong>：使用管道（pipeline）批量操作。</li><li><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -en</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;PING\\r\\nPING\\r\\nPING\\r\\n&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6379</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_7-3-持久化优化" tabindex="-1"><a class="header-anchor" href="#_7-3-持久化优化"><span>7.3 持久化优化</span></a></h3><ul><li><strong>RDB 和 AOF 结合使用</strong>：平衡性能和数据安全性。</li><li><strong>调整 AOF 重写策略</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">auto-aof-rewrite-percentage</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">auto-aof-rewrite-min-size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 64mb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="_8-redis-常见使用场景" tabindex="-1"><a class="header-anchor" href="#_8-redis-常见使用场景"><span>8. Redis 常见使用场景</span></a></h2><h3 id="_8-1-缓存" tabindex="-1"><a class="header-anchor" href="#_8-1-缓存"><span>8.1 缓存</span></a></h3><ul><li><strong>描述</strong>：将热点数据存储在 Redis 中，加速数据访问。</li><li><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cache:key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;value&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cache:key</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_8-2-消息队列" tabindex="-1"><a class="header-anchor" href="#_8-2-消息队列"><span>8.2 消息队列</span></a></h3><ul><li><strong>描述</strong>：使用列表实现简单的消息队列。</li><li><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">LPUSH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myqueue</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;message1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RPOP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myqueue</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_8-3-实时分析" tabindex="-1"><a class="header-anchor" href="#_8-3-实时分析"><span>8.3 实时分析</span></a></h3><ul><li><strong>描述</strong>：使用有序集合存储实时数据并进行分析。</li><li><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ZADD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> analytics</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;event1&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ZRANGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> analytics</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WITHSCORES</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="_9-redis-常见问题" tabindex="-1"><a class="header-anchor" href="#_9-redis-常见问题"><span>9. Redis 常见问题</span></a></h2><h3 id="_9-1-内存不足" tabindex="-1"><a class="header-anchor" href="#_9-1-内存不足"><span>9.1 内存不足</span></a></h3><ul><li><strong>解决方案</strong>：设置最大内存并启用淘汰策略。<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maxmemory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1gb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maxmemory-policy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> allkeys-lru</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_9-2-数据丢失" tabindex="-1"><a class="header-anchor" href="#_9-2-数据丢失"><span>9.2 数据丢失</span></a></h3><ul><li><strong>解决方案</strong>：启用 AOF 持久化并定期备份数据。<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">appendonly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_9-3-性能瓶颈" tabindex="-1"><a class="header-anchor" href="#_9-3-性能瓶颈"><span>9.3 性能瓶颈</span></a></h3><ul><li><strong>解决方案</strong>：优化数据结构、使用管道和 Lua 脚本。</li></ul><hr><h2 id="_10-总结" tabindex="-1"><a class="header-anchor" href="#_10-总结"><span>10. 总结</span></a></h2><p>本文详细介绍了 Redis 的核心知识点，包括概述、核心架构、下载与安装、运行配置、基础操作、高级功能、性能调优、常见使用场景和常见问题。掌握这些知识，可以帮助您更好地理解和使用 Redis，提升系统的性能和可靠性。</p>`,69))])}const g=s(t,[["render",r],["__file","Redis知识点.html.vue"]]),o=JSON.parse('{"path":"/article/Linux/Redis%E7%9F%A5%E8%AF%86%E7%82%B9.html","title":"Redis 知识点详解","lang":"zh-CN","frontmatter":{"title":"Redis 知识点详解","category":["数据库"],"tags":["Redis","缓存","NoSQL"],"description":"Redis 是一个开源的高性能键值存储系统，支持多种数据结构，广泛应用于缓存、消息队列、实时分析等场景。本文将从基础概念到高级特性，全面介绍 Redis 的核心知识点。","head":[["meta",{"property":"og:url","content":"https://java-st.blog.csdn.net/my-blog/article/Linux/Redis%E7%9F%A5%E8%AF%86%E7%82%B9.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"Redis 知识点详解"}],["meta",{"property":"og:description","content":"Redis 是一个开源的高性能键值存储系统，支持多种数据结构，广泛应用于缓存、消息队列、实时分析等场景。本文将从基础概念到高级特性，全面介绍 Redis 的核心知识点。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-27T03:26:46.000Z"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:tag","content":"缓存"}],["meta",{"property":"article:tag","content":"NoSQL"}],["meta",{"property":"article:modified_time","content":"2025-02-27T03:26:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Redis 知识点详解\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-27T03:26:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"宋涛\\",\\"url\\":\\"https://java-st.blog.csdn.net/\\"}]}"]]},"headers":[{"level":2,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":2,"title":"1. Redis 概述","slug":"_1-redis-概述","link":"#_1-redis-概述","children":[]},{"level":2,"title":"2. Redis 核心架构与概念","slug":"_2-redis-核心架构与概念","link":"#_2-redis-核心架构与概念","children":[{"level":3,"title":"2.1 核心架构","slug":"_2-1-核心架构","link":"#_2-1-核心架构","children":[]},{"level":3,"title":"2.2 核心概念","slug":"_2-2-核心概念","link":"#_2-2-核心概念","children":[]}]},{"level":2,"title":"3. Redis 下载与安装","slug":"_3-redis-下载与安装","link":"#_3-redis-下载与安装","children":[{"level":3,"title":"3.1 下载","slug":"_3-1-下载","link":"#_3-1-下载","children":[]},{"level":3,"title":"3.2 安装","slug":"_3-2-安装","link":"#_3-2-安装","children":[]}]},{"level":2,"title":"4. Redis 运行配置","slug":"_4-redis-运行配置","link":"#_4-redis-运行配置","children":[{"level":3,"title":"4.1 启动命令","slug":"_4-1-启动命令","link":"#_4-1-启动命令","children":[]},{"level":3,"title":"4.2 单机部署","slug":"_4-2-单机部署","link":"#_4-2-单机部署","children":[]},{"level":3,"title":"4.3 集群部署","slug":"_4-3-集群部署","link":"#_4-3-集群部署","children":[]}]},{"level":2,"title":"5. Redis 基础操作","slug":"_5-redis-基础操作","link":"#_5-redis-基础操作","children":[{"level":3,"title":"5.1 键值操作","slug":"_5-1-键值操作","link":"#_5-1-键值操作","children":[]},{"level":3,"title":"5.2 数据结构操作","slug":"_5-2-数据结构操作","link":"#_5-2-数据结构操作","children":[]}]},{"level":2,"title":"6. Redis 高级功能","slug":"_6-redis-高级功能","link":"#_6-redis-高级功能","children":[{"level":3,"title":"6.1 持久化","slug":"_6-1-持久化","link":"#_6-1-持久化","children":[]},{"level":3,"title":"6.2 主从复制","slug":"_6-2-主从复制","link":"#_6-2-主从复制","children":[]},{"level":3,"title":"6.3 事务","slug":"_6-3-事务","link":"#_6-3-事务","children":[]},{"level":3,"title":"6.4 Lua 脚本","slug":"_6-4-lua-脚本","link":"#_6-4-lua-脚本","children":[]}]},{"level":2,"title":"7. Redis 性能调优","slug":"_7-redis-性能调优","link":"#_7-redis-性能调优","children":[{"level":3,"title":"7.1 内存优化","slug":"_7-1-内存优化","link":"#_7-1-内存优化","children":[]},{"level":3,"title":"7.2 网络优化","slug":"_7-2-网络优化","link":"#_7-2-网络优化","children":[]},{"level":3,"title":"7.3 持久化优化","slug":"_7-3-持久化优化","link":"#_7-3-持久化优化","children":[]}]},{"level":2,"title":"8. Redis 常见使用场景","slug":"_8-redis-常见使用场景","link":"#_8-redis-常见使用场景","children":[{"level":3,"title":"8.1 缓存","slug":"_8-1-缓存","link":"#_8-1-缓存","children":[]},{"level":3,"title":"8.2 消息队列","slug":"_8-2-消息队列","link":"#_8-2-消息队列","children":[]},{"level":3,"title":"8.3 实时分析","slug":"_8-3-实时分析","link":"#_8-3-实时分析","children":[]}]},{"level":2,"title":"9. Redis 常见问题","slug":"_9-redis-常见问题","link":"#_9-redis-常见问题","children":[{"level":3,"title":"9.1 内存不足","slug":"_9-1-内存不足","link":"#_9-1-内存不足","children":[]},{"level":3,"title":"9.2 数据丢失","slug":"_9-2-数据丢失","link":"#_9-2-数据丢失","children":[]},{"level":3,"title":"9.3 性能瓶颈","slug":"_9-3-性能瓶颈","link":"#_9-3-性能瓶颈","children":[]}]},{"level":2,"title":"10. 总结","slug":"_10-总结","link":"#_10-总结","children":[]}],"git":{"createdTime":1740626083000,"updatedTime":1740626806000,"contributors":[{"name":"stao","username":"stao","email":"2944922490@qq.com","commits":3,"url":"https://github.com/stao"}]},"readingTime":{"minutes":4.41,"words":1322},"filePathRelative":"article/Linux/Redis知识点.md","localizedDate":"2025年2月27日","excerpt":"<p>Redis 是一个开源的高性能键值存储系统，支持多种数据结构，广泛应用于缓存、消息队列、实时分析等场景。本文将从基础概念到高级特性，全面介绍 Redis 的核心知识点。</p>\\n","autoDesc":true}');export{g as comp,o as data};
